{"ast":null,"code":"import _defineProperty from\"/Users/griffinsurett/Desktop/coding/react-practice/GriffinLegitTikTokReact-Site/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/griffinsurett/Desktop/coding/react-practice/GriffinLegitTikTokReact-Site/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/griffinsurett/Desktop/coding/react-practice/GriffinLegitTikTokReact-Site/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import{Table,Modal,Button,Form}from\"react-bootstrap\";import{GrDocumentUpdate}from\"react-icons/gr\";import{MdDeleteForever}from\"react-icons/md\";import\"./styles/Admin.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Admin=function Admin(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),subscribers=_useState2[0],setSubscribers=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),load=_useState4[0],setLoad=_useState4[1];var _useState5=useState({_id:'',firstName:\"\",lastName:\"\",emailAddress:\"\",subject:\"\",message:\"\"}),_useState6=_slicedToArray(_useState5,2),subscriber=_useState6[0],setSubscriber=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),show=_useState8[0],setShow=_useState8[1];var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){return setShow(true);};useEffect(function(){axios.get(\"http://localhost:8000/api/Subscribers\").then(function(res){console.log(res.data.results);setSubscribers(res.data.results);}).catch(function(error){return console.log(error);});},[load]);var changeHandler=function changeHandler(e){setSubscriber(_objectSpread(_objectSpread({},subscriber),{},_defineProperty({},e.target.name,e.target.value)));};var editSubscriber=function editSubscriber(e,id){axios.get(\"http://localhost:8000/api/Subscribers/\"+id).then(function(res){setSubscriber(res.data.results);}).catch(function(error){return console.log(error);});handleShow();};var updateSubscriber=function updateSubscriber(){axios.put('http://localhost:8000/api/Subscribers/'+subscriber._id,subscriber).then(function(res){console.log(res.data.results);setSubscriber({firstName:\"\",lastName:\"\",emailAddress:\"\",phoneNumber:\"\",subject:\"\",message:\"\"});handleClose();window.location.reload();}).catch(function(error){return console.log(error);});};var deleteSubscriber=function deleteSubscriber(id){console.log(id);axios.delete(\"http://localhost:8000/api/Subscribers/\"+id).then(function(res){console.log(res.data.message);load===1?setLoad(0):setLoad(1);}).catch(function(error){return console.log(error);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Admin Page\"}),/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,variant:\"dark\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Last Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Phone Number\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Message\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Edit\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Delete\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:subscribers.map(function(s,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:i}),/*#__PURE__*/_jsx(\"td\",{children:s.firstName}),/*#__PURE__*/_jsx(\"td\",{children:s.lastName}),/*#__PURE__*/_jsx(\"td\",{children:s.emailAddress}),/*#__PURE__*/_jsx(\"td\",{children:s===null||s===void 0?void 0:s.phoneNumber}),/*#__PURE__*/_jsx(\"td\",{children:s===null||s===void 0?void 0:s.subject}),/*#__PURE__*/_jsx(\"td\",{children:s===null||s===void 0?void 0:s.message}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(GrDocumentUpdate,{className:\"adminIcon\",onClick:function onClick(e){editSubscriber(e,s._id);}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(MdDeleteForever,{className:\"adminIcon\",onClick:function onClick(){deleteSubscriber(s._id);}})})]},\"i\");})})]}),/*#__PURE__*/_jsx(Modal,{show:show,onHide:handleShow,children:/*#__PURE__*/_jsxs(Modal.Dialog,{children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsxs(Modal.Title,{children:[\"Edit \",subscriber.firstName,\" \",subscriber.lastName]})}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(Form,{onSubmit:updateSubscriber,children:[/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Form.Control,{name:\"emailAddress\",className:\"modalInput\",id:\"emailAddress\",type:\"text\",placeholder:subscriber.emailAddress,onChange:changeHandler,value:subscriber.emailAddress})}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Form.Control,{name:\"firstName\",className:\"modalInput\",id:\"firstName\",type:\"text\",placeholder:subscriber.firstName,onChange:changeHandler,value:subscriber.firstName})}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Form.Control,{name:\"lastName\",className:\"modalInput\",id:\"lastName\",type:\"text\",placeholder:subscriber.lastName,onChange:changeHandler,value:subscriber.lastName})}),/*#__PURE__*/_jsx(Form.Group,{children:/*#__PURE__*/_jsx(Form.Control,{name:\"phoneNumber\",className:\"modalInput\",id:\"number\",type:\"text\",placeholder:subscriber.phoneNumber,onChange:changeHandler,value:subscriber.phoneNumber})}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Save Changes\"})]}),\" \"]})]})})]});};export default Admin;","map":{"version":3,"sources":["/Users/griffinsurett/Desktop/coding/react-practice/GriffinLegitTikTokReact-Site/client/src/pages/Admin.js"],"names":["React","useState","useEffect","axios","Table","Modal","Button","Form","GrDocumentUpdate","MdDeleteForever","Admin","subscribers","setSubscribers","load","setLoad","_id","firstName","lastName","emailAddress","subject","message","subscriber","setSubscriber","show","setShow","handleClose","handleShow","get","then","res","console","log","data","results","catch","error","changeHandler","e","target","name","value","editSubscriber","id","updateSubscriber","put","phoneNumber","window","location","reload","deleteSubscriber","delete","map","s","i"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Table, Modal, Button, Form } from \"react-bootstrap\";\nimport { GrDocumentUpdate } from \"react-icons/gr\";\nimport { MdDeleteForever } from \"react-icons/md\";\nimport \"./styles/Admin.css\";\n\nconst Admin = () => {\n  const [subscribers, setSubscribers] = useState([]);\n  const [load, setLoad] = useState(1);\n  const [subscriber, setSubscriber] = useState({\n    _id: '',\n    firstName: \"\",\n    lastName: \"\",\n    emailAddress: \"\",\n    subject: \"\",\n    message: \"\",\n  });\n\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  useEffect(() => {\n    axios\n      .get(\"http://localhost:8000/api/Subscribers\")\n      .then((res) => {\n        console.log(res.data.results);\n        setSubscribers(res.data.results);\n      })\n      .catch((error) => console.log(error));\n  }, [load]);\n\n  const changeHandler = (e) => {\n    setSubscriber({\n      ...subscriber,\n      [e.target.name]: e.target.value,\n    });\n  };\n\n  const editSubscriber = (e, id) => {\n    axios\n      .get(\"http://localhost:8000/api/Subscribers/\" + id)\n      .then((res) => {\n        setSubscriber(res.data.results);\n      })\n      .catch((error) => console.log(error));\n    handleShow();\n  };\n\n  const updateSubscriber = () => {\n    axios.put('http://localhost:8000/api/Subscribers/' + subscriber._id, subscriber)\n    .then(res => {\n        console.log(res.data.results)\n    setSubscriber({\n        firstName: \"\",\n        lastName: \"\",\n        emailAddress: \"\",\n        phoneNumber:\"\",\n        subject: \"\",\n        message: \"\"\n    });\n    handleClose();\n    window.location.reload();\n  })\n  .catch((error) => console.log(error));\n  }\n  const deleteSubscriber = (id) => {\n      console.log(id)\n    axios.delete(\"http://localhost:8000/api/Subscribers/\" + id)\n    .then(res => {\n        console.log(res.data.message)\n        load === 1 ? setLoad(0) : setLoad(1);\n    })\n    .catch((error) => console.log(error));\n}\n  \n\n  return (\n    <div>\n      <h1>Admin Page</h1>\n      <Table striped bordered hover variant=\"dark\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>First Name</th>\n            <th>Last Name</th>\n            <th>Email Address</th>\n            <th>Phone Number</th>\n            <th>Subject</th>\n            <th>Message</th>\n            <th>Edit</th>\n            <th>Delete</th>\n          </tr>\n        </thead>\n        <tbody>\n          {subscribers.map((s, i) => (\n            <tr key=\"i\">\n              <td>{i}</td>\n              <td>{s.firstName}</td>\n              <td>{s.lastName}</td>\n              <td>{s.emailAddress}</td>\n              <td>{s?.phoneNumber}</td>\n              <td>{s?.subject}</td>\n              <td>{s?.message}</td>\n              <td>\n                <GrDocumentUpdate\n                  className=\"adminIcon\"\n                  onClick={(e) => {\n                    editSubscriber(e, s._id);\n                  }}\n                />\n              </td>\n              <td>\n                <MdDeleteForever\n                  className=\"adminIcon\"\n                  onClick={() => {\n                    deleteSubscriber(s._id);\n                  }}\n                />\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </Table>\n      <Modal show={show} onHide={handleShow}>\n        <Modal.Dialog>\n          <Modal.Header closeButton>\n            <Modal.Title>\n              Edit {subscriber.firstName} {subscriber.lastName}\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Form onSubmit={updateSubscriber}>\n              <Form.Group>\n                <Form.Control\n                  name=\"emailAddress\"\n                  className=\"modalInput\"\n                  id=\"emailAddress\"\n                  type=\"text\"\n                  placeholder={subscriber.emailAddress}\n                  onChange={changeHandler}\n                  value={subscriber.emailAddress}\n                />\n              </Form.Group>\n              <Form.Group>\n                <Form.Control\n                  name=\"firstName\"\n                  className=\"modalInput\"\n                  id=\"firstName\"\n                  type=\"text\"\n                  placeholder={subscriber.firstName}\n                  onChange={changeHandler}\n                  value={subscriber.firstName}\n                />\n              </Form.Group>\n              <Form.Group>\n                <Form.Control\n                  name=\"lastName\"\n                  className=\"modalInput\"\n                  id=\"lastName\"\n                  type=\"text\"\n                  placeholder={subscriber.lastName}\n                  onChange={changeHandler}\n                  value={subscriber.lastName}\n                />\n              </Form.Group>\n              <Form.Group>\n                <Form.Control\n                  name=\"phoneNumber\"\n                  className=\"modalInput\"\n                  id=\"number\"\n                  type=\"text\"\n                  placeholder={subscriber.phoneNumber}\n                  onChange={changeHandler}\n                  value={subscriber.phoneNumber}\n                />\n              </Form.Group>\n              <Button variant=\"primary\" type=\"submit\">Save Changes</Button>\n            </Form>{\" \"}\n          </Modal.Body>\n        </Modal.Dialog>\n      </Modal>\n    </div>\n  );\n};\n\nexport default Admin;\n"]},"metadata":{},"sourceType":"module"}